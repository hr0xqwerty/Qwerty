import type { Connection, PostMessageOptions, ProtocolInfo, AppInfo } from '../types.js';
export default class WebSocketsConnection implements Connection {
    private _url;
    private _serverPort;
    private _wss?;
    private _channelController;
    private _promiseController;
    constructor(connectToUrl: string | URL, appInfo?: AppInfo, serverPort?: number);
    connect(): Promise<string | undefined>;
    disconnect(): void;
    postMessage(method: string, params?: any[], options?: PostMessageOptions & ProtocolInfo): Promise<unknown>;
    private deliverMessage;
}
